<!DOCTYPE html>
<html>
  <title>UFO Sightings</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
    crossorigin="anonymous"
  />
  <link rel="stylesheet" href="/styles.css" />

  <!--NavBar-->
  <nav class="navbar navbar-expand-sm fixed-top navbar-light navBarBg">
    <a class="navbar-brand">UFO Sightings!</a>
    
  <!-- Toggler/collapsibe Button -->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>
 <!-- Navbar links -->
    <div class = "collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/shapes">Shapes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/newSighting">Report New Sighting</a>
        </li>
      </ul>
    </div>
  </nav>

  <body>
    <div class="container navTopMargin">
      <div class="row">
        <div class="col d-flex justify-content-center selectFormTitle">
          Sightings
        </div>
      </div>
      <div class="row">
        <div class="col-12 d-flex justify-content-center">
          <form>
            <select name="sortOrder" label="sort" class="selectForm">
              <option value="ascending">Ascending</option>
              <option value="descending">Descending</option>
            </select>
            <input type="submit" value="Submit" role="button" />
          </form>
        </div>
      </div>
    </div>
    
<div class="container-sm">
    <div class="pageTitle table-responsive">List of all Sightings</div>
      <table class = "table table-hover">
        <thead class="thead-dark">
          <tr >
            <th scope="col" class="align-middle">ID</th>
            <th scope="col" class="align-middle">Description</th>
            <th scope="col" class="align-middle">Date & Time</th>
            <th scope="col" class="align-middle">City</th>
            <th scope="col" class="align-middle">State</th>
            <th scope="col" class="align-middle">Shape</th>
            <th scope="col" class="align-middle">Duration</th>
            <th scope="col" class="align-middle">Summary</th>
            <th scope="col" class="align-middle">Timestamp</th>
            <th scope="col" class="align-middle">Actions</th>

          </tr>
        </thead>
  
      <tbody>
      <% sightings.forEach((sighting)=>{ %>
      <tr>
        <%Object.entries(sighting).forEach(([key,value])=>{ %> <% if(key
        ==="date_time"){ %>
        <td scope="col" class="align-middle"><%=value%></td>
        <% } else { %>
        <td scope="col" class="align-middle"><%=value%></td>
        <% } %> <% }) %>
        <th>
        <a
          href="/sighting/<%=sighting.id%>"
          class="btn btn-info btn-md btnHeight"
          role="button"
        >
          View</a
        >
        <a
          href="/sighting/<%=sighting.id%>/edit"
          class="btn btn-warning btn-md btnHeight"
          role="button"
        >
          Edit</a
        >
        <form action="/sighting/<%=sighting.id%>?_method=DELETE" method="POST">
          <input
            type="submit"
            class="btn btn-danger btn-md btnHeight"
            name="_method"
            value="Delete"
          />
        </form>
        </th>
      </tr>
      <% }) %>
      </tbody>
          </table>
      </div>
    </div>
  </body>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
</html>
