<!DOCTYPE html>
<html>
  <title>UFO Sightings</title>
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
    crossorigin="anonymous"
  />
  <link rel="stylesheet" href="/styles.css" />

  <!--NavBar-->
  <nav class="navbar navbar-expand-sm fixed-top bg-light">
    <a class="navbar-brand">UFO Sightings!</a>
    <div>
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/shapes">Shapes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/newSighting">Report New Sighting</a>
        </li>
      </ul>
    </div>
  </nav>

  <body>
    <div class="container navTopMargin">
      <div class="row">
        <div class="col d-flex justify-content-center selectFormTitle">
          Sightings
        </div>
      </div>
      <div class="row">
        <div class="col-12 d-flex justify-content-center">
          <form>
            <select label="sort" action="/sighting/sorted" class="selectForm">
              <option value="Ascending">Ascending</option>
              <option value="Descending">Descending</option>
            </select>
            <input type="submit" value="Submit" />
          </form>
        </div>
      </div>
    </div>

    <div class="pageTitle">List of all Sightings</div>
    <div class="container bg-info">
      <div class="row bg-warning">
        <div class="col-sm-1">Number</div>
        <div class="col-sm-1">Description</div>
        <div class="col-sm-2">Date & Time</div>
        <div class="col-sm-1">City</div>
        <div class="col-sm-1">State</div>
        <div class="col-sm-1">Shape</div>
        <div class="col-sm-1">Duration</div>
        <div class="col-sm-1">Summary</div>
        <div class="col-sm-1">Actions</div>
      </div>

      <% sightings.forEach((sighting)=>{ %>
      <div class="row">
        <%Object.entries(sighting).forEach(([key,value])=>{ %> <% if(key
        ==="date_time"){ %>
        <div class="col-sm-2"><%=value%></div>
        <% } else { %>
        <div class="col-sm-1"><%=value%></div>
        <% } %> <% }) %>
        <a
          href="/sighting/<%=sighting.number%>"
          class="btn btn-primary"
          role="button"
        >
          View</a
        >
        <a
          href="/sighting/<%=sighting.number%>/edit"
          class="btn btn-primary"
          role="button"
        >
          Edit</a
        >
        <form
          action="/sighting/<%=sighting.number%>?_method=DELETE"
          method="POST"
        >
          <input type="hidden" name="_method" value="DELETE" />
          <input
            type="submit"
            class="btn btn-primary"
            name="_method"
            value="Delete"
          />
        </form>
      </div>
      <br />
      <% }) %>
    </div>
  </body>

  <script
    src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
    crossorigin="anonymous"
  ></script>
</html>
